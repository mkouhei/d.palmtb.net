新年一発目の勉強会
==================

昨日、今年度一回目の東京エリアDebian勉強会に参加してきた。今回からいつもの資料のタイトルが「東京エリアデビアン勉強会」とDebianがカタカナになっていた。フォントを大きくしたらアルファベットだと表示されなくなるのが事の真相だとか。でもこれはこれで、ちょっとカッコいい 。



上川さんが仮想マシンモニタKVMの話とデモ。Kernel 2.6.20以降が必要であるものの、kvmパッケージのインストールとBIOSでIntel VTを有効にすればDebianですぐに使えるようになるそうな。その点はDebianでXenを使うよりもよっぽど楽だなぁ。Debianパッケージの Xenはちといまいちよくわからないので、結局Xen Sourceからソースコード落としてきてガリガリコンパイルしているので。



詳細を知りたいなぁと思ったら、KVMの開発元サイトに、 `KVMのホワイトペーパー <http://kvm.sourceforge.net/Documents.html>`_ があった。



以下、ホワイトペーパーの概要（意訳）。



* XenのようにXen-kernelで専用のスケジューラを使ってゲストOSをのスケジューリングをするのではなく、Linux Kernelのスケジューラを使う。（これは昨日聞いたとおり）

* Linux Kernelは通常、kernelとuserの二つのモードのプロセスを持つが、KVMはこれらに３つ目のguestモードを追加する。これ自体がkernelとuserモードを持つが、仮想マシンモニタ自体は関与しない。

* 三つのモードの違い


  * guestモード：I/O無しのguestコードの実行

  * kernelモード：guestモードへのスイッチングと、I/O割り込みや特別命令を実行するための、guestモードからのexit処理

  * userモード：guestとしてのI/O処理




* メリット


  * 従来の仮想マシンモニタモデルに比べ、最小構成のシステムであること。


* デメリット


  * guestシステムが特権を持つことを考慮していない点。


    * HypercallやDMAハードウェアプログラミングによってい、guestが全システムメモリにアクセスできてしまうこと。

    * hypervisorはguestがこけても再起動できないので、特権を持つguestが失敗すると回復できない。



Xenに比べると全システムメモリにアクセスできてしまう点はヤバいなぁと思うが、今後解決されていくだろうと。今度、Wikiにちゃんとホワイトペーパーの和訳文書をつくるかなぁ。



その他、岩松さんがapt-torrentの話を。bittorrent、というかP2P自体を自宅環境で使ったことがないので、便利そうだなぁと思いつつも、きっと自分は使わないなぁと思って聞いていた。やっぱりクライアントを外からつつける様にするのは気持ち悪い。



最後に２チームに分かれて今年度の勉強会の計画をブレスト。で、最後の発表の際は、別のチームの人が、Linux界隈の有名人に成りきっての質問。 kmutoなのにDebianインストーラーを使ったことがないとか、FC代表なのにFCを使ったことがないとか、小ネタがかなり笑えた。






.. author:: default
.. categories:: Debian,virt.,meeting
.. tags::
.. comments::
