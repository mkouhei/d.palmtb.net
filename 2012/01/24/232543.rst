warning混ぜると危険。
=====================

今回記録しておくのは、仕事で使用しているストレージのモニタリングツール（non free）で遭遇した世にも恐ろしい事象です。



ストレージのファームウェアアップデートに伴い、モニタリングツールも依存関係でアップデートした際、ストレージからsyslog経由で受け取ったログを表示するログビューワに、『ストレージ側でsyslogの設定がされてないかポートブロックしてねぇか確認しやがれ、コンニャロめ！』（超意訳）と表示されました。おかしい。アップデートのバグで設定が変更されてしまったのだろうか…、いや変更されてない。再設定すれば直るだろうか…、ダメだ。ドキュメントには特にそんな記載ないし、ソースコードは無論公開されてない。



仕方ないのでサポートに問い合わせしたのですが、サポート側でも再現せず、いろいろ提案された方法試してもダメ。さて困ったなぁと思って、何気なく表示時間帯の範囲指定を変えたら過去ログが表示されるではないですか。まさかと思い、syslogのpriorityを変えてみたら、表示されるではないですか…。アホやワシ…。



とはいえ、表示されるwarningが未設定状態の時と全く同じなのは良くない、エラーの元です。ということで、サポートの方に改善要望を伝えておきました。サポート側で気づかなかったのは、きっと普段からinfoレベルでログ飛ばすようにしてるから、モニタリングツールにログが表示されない時間帯は無かったのでしょうね…。




結論
----


混ぜるな危険！



non freeなソフトウェアは辛いすな…。（モチベーション的な意味で）






.. author:: default
.. categories:: エラー, 
.. tags::
.. comments::
