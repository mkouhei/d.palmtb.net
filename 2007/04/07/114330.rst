Apacheのチューニングの思わぬ副産物。
##########################################


増加してきたアクセス数も制限を超えたら、&#34;503 Server busy&#34;を返すので、たった64MBのメモリでもリソースが一杯いっぱいにならずに済むようになったが、実はもう一つ思わぬ効果があった。アクセスログの解析には、AWstatsを使っているのだが、今まではcronで15分毎に集計かけた結果を静的HTMLで見るだけだった。CGIの方は、mod_perlでも、fcgid + perl-cgiでも、動的に出力させるためにメモリを割り当てると、その後、ずっと解放してくれず、結果、同時アクセス数が増えるとMaxClientsの上限に達して死んでしまう、ということがあったので、自宅内ではAWstatsの動的結果確認は御法度だったわけである。が、チューニング後はちゃんと解放するようになった。あー、良かった良かった。



.. author:: mkouhei
.. categories:: Unix/Linux, 
.. tags::
.. comments::


